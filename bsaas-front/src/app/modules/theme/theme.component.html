<div class="theme-container" role="region" aria-labelledby="theme-title">
  <h2 id="theme-title">{{ 'theme.title' | translate }}</h2>
  <form [formGroup]="themeForm" (ngSubmit)="updateTheme()">
    <label for="primaryColor"
      >{{ 'theme.primary' | translate }}
      <input id="primaryColor" formControlName="primaryColor" type="color" aria-required="true" />
      <div *ngIf="themeForm.get('primaryColor')?.invalid && themeForm.get('primaryColor')?.touched" class="error-message" role="alert">
        {{ 'theme.error' | translate }}
      </div>
    </label>
    <label for="secondaryColor"
      >{{ 'theme.secondary' | translate }}
      <input id="secondaryColor" formControlName="secondaryColor" type="color" aria-required="true" />
      <div *ngIf="themeForm.get('secondaryColor')?.invalid && themeForm.get('secondaryColor')?.touched" class="error-message" role="alert">
        {{ 'theme.error' | translate }}
      </div>
    </label>
    <label for="accentColor"
      >{{ 'theme.accent' | translate }}
      <input id="accentColor" formControlName="accentColor" type="color" aria-required="true" />
      <div *ngIf="themeForm.get('accentColor')?.invalid && themeForm.get('accentColor')?.touched" class="error-message" role="alert">
        {{ 'theme.error' | translate }}
      </div>
    </label>
    <button type="submit" [disabled]="themeForm.invalid">{{ 'theme.update' | translate }}</button>
  </form>
  <div *ngIf="loading" class="loading" aria-live="polite">{{ 'theme.loading' | translate }}</div>
  <div *ngIf="error" class="error-message" role="alert">{{ 'theme.error' | translate }}</div>
  <div *ngIf="theme">
    <h3>{{ 'theme.current' | translate }}:</h3>
    <div>
      {{ 'theme.primary' | translate }}:
      <span [style.background]="theme.primaryColor" class="color-sample" aria-label="Primary color"></span> {{ theme.primaryColor }}
    </div>
    <div>
      {{ 'theme.secondary' | translate }}:
      <span [style.background]="theme.secondaryColor" class="color-sample" aria-label="Secondary color"></span> {{ theme.secondaryColor }}
    </div>
    <div>
      {{ 'theme.accent' | translate }}: <span [style.background]="theme.accentColor" class="color-sample" aria-label="Accent color"></span>
      {{ theme.accentColor }}
    </div>
  </div>
</div>
