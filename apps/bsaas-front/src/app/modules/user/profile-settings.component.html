<div class="profile-settings-container">
  <form [formGroup]="profileForm" (ngSubmit)="onSubmit()">
    <h1>Profile Settings</h1>
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Name</mat-label>
      <input matInput formControlName="name" required />
      <mat-error *ngIf="profileForm.get('name')?.invalid">Name required</mat-error>
    </mat-form-field>
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Email</mat-label>
      <input matInput formControlName="email" type="email" required />
      <mat-error *ngIf="profileForm.get('email')?.invalid">Valid email required</mat-error>
    </mat-form-field>
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Contact Number</mat-label>
      <input matInput formControlName="contact" required />
      <mat-error *ngIf="profileForm.get('contact')?.invalid">Contact number required</mat-error>
    </mat-form-field>
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Password</mat-label>
      <input matInput formControlName="password" type="password" />
      <mat-hint>Leave blank to keep current password</mat-hint>
    </mat-form-field>
    <div class="profile-picture-upload">
      <label>Profile Picture:</label>
      <input type="file" (change)="onImageChange($event)" accept="image/*" />
      <img *ngIf="imagePreview" [src]="imagePreview" class="profile-picture-preview" />
    </div>
    <button mat-raised-button color="primary" class="full-width" [disabled]="loading">Update Profile</button>
    <mat-progress-bar *ngIf="loading" mode="indeterminate"></mat-progress-bar>
    <mat-error *ngIf="error">{{ error }}</mat-error>
    <p class="success" *ngIf="success">{{ success }}</p>
  </form>
</div>
